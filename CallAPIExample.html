<!DOCTYPE html>
<html>
<fieldset>
    <legend>Weather Viewer</legend>
    <form action="#">
        <select id="city">
            <option>Taipei</option>
            <option>Kaohsiung</option>
            <option>New York</option>
            <option>Los Angels</option>
            <option>Tokyo</option>
            <option>Osaka</option>
        </select>
        <input type="button" value="Show Weather" id="showBtn" />
    </form>
    <div id="message">
        <h3>The weather of the selected city will be shown here.</h3>
		<h3>Good Luck!</h3>
		
    </div>
</fieldset>

<body>
    <script>
        // Backend API: https://github.com/robertoduessmann/weather-api

        document.getElementById("showBtn").addEventListener("click", showWeather, false);

        function showWeather() {
            let city = document.getElementById("city").value;
            let url = "https://goweather.herokuapp.com/weather/" + city;
            fetch(url, {
                method: "GET",
            })
                .then(res => res.json())
                .then(response => display(city, response.temperature))
                .catch(error => alert("Fail"));
        }

        function display(city, temperature) {
            document.getElementById("message").innerHTML = "<h3>" + city + "'s weather today is " + temperature + ".";
        }
    </script>
</body>

<html>